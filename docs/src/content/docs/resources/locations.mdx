---
title: Locations
---

import { Tabs, TabItem } from '@astrojs/starlight/components';


The locations resource gives you access to air quality monitoring station data
from the OpenAQ database. Use it to get details about stations: their
geographic information, what instruments they use, what pollutants they measure,
and who owns or manages them. The resource has methods to query single stations,
search many stations, and access live sensor data. This resource helps you work
with station information and current conditions.

## Methods

The `locations` resource provides the following methods:

- `get()` - For accessing a single location by location ID.
- `list()` - For accessing multiple locations.
- `latest()` - For accessing the latest measurements for all sensors for a given
  location ID.
- `sensors()` - For accessing a list of available sensors at the location for a
  given location ID.

### Get a single location

The `get()` method accepts one single `locations_id` as an argument and returns
details about that location in a LocationsResponse object.

#### Query arguments
```py
get(
  locations_id: int
  ) -> LocationsResponse
```

| argument | description | input requirements |
| -------- | ----------- | ---- |
| locations_id | `int` OpenAQ's unique identifier for each location | Required |

#### Example

<Tabs  syncKey="client">
  <TabItem label="sync">
    ```py
    from openaq import OpenAQ

    # Retrieve the location with ID 4845127
    with OpenAQ(api_key="YOUR-OPENAQ-API-KEY") as client:
        client.locations.get(4845127)
    ```
  </TabItem>
  <TabItem label="async">
    ```py
    from openaq import AsyncOpenAQ

    # Retrieve the location with ID 4845127
    async with AsyncOpenAQ(api_key="YOUR-OPENAQ-API-KEY") as client:
        await client.locations.get(4845127)
    ```
  </TabItem>
</Tabs>

###  List multiple locations

The `list()` method takes multiple optional arguments and returns all air
monitoring locations on the OpenAQ platform that meet the conditions specified
in the arguments. If no argument is included, the method returns all locations
on the platform using the default arguments.

```py
list(
  page: int = 1,
  limit: int = 100,
  radius: int | None = None,
  coordinates: tuple[float, float] | None = None,
  bbox: tuple[float, float, float, float] | None = None,
  providers_id: int | list[int] | None = None,
  countries_id: int | list[int] | None = None,
  parameters_id: int | list[int] | None = None,
  licenses_id: int | list[int] | None = None,
  iso: str | None = None,
  monitor: bool | None = None,
  mobile: bool | None = None,
  order_by: str | None = None,
  sort_order: str | None = None
  ) -> LocationsResponse
```

#### Query arguments

| argument | description | input requirements |
| -------- | ----------- | ------------------ |
| page | `int` The page number to retrieve, defaults to 1 | Must better greater than zero |
| limit | `int` The number of results returned per page, defaults to 100 | Must be between 1 and 1,000 |
| radius | `int \| None` The search distance value (in meters) around the coordinate pair to search for locations | Must be between 1 and 25,000. Must be accompanied by coordinates. Cannot be accompanied by bbox |
| coordinates | `tuple[float, float] \| None` The geographic position of a point from which to search for locations | Must be in WGS84 (EPSG:4326) in (latitude, longitude) or (Y, X) format and accompanied by radius. Cannot be accompanied by bbox. |
| bbox | `tuple[float, float, float, float] \| None` The rectangular area within which locations are searched for and returned | Must be in WGS84 (EPSG:4326) and (minX, minY, maxX, maxY) format with maximum 4 decimals precision. Cannot be accompanied by either coordinate or radius |
| providers_id | `int \| list[int] \| None` Filter the locations by the ID of one or multiple organizations/individuals that facilitate the sharing of data at those locations |
| countries_id | `int \| list[int] \| None` The countr(ies) or territor(ies) where the location operates | Must be OpenAQ unique identifier for the countr(ies) or territor(ies). Cannot be accompanied by iso |
| parameters_id | `int \| list[int] \| None` The type of pollutants or meteorological reading(s) by which to search for locations | Must be OpenAQ unique identifier for the pollutant or meteorlogical parameter(s) |
| licenses_id | `int \| list[int] \| None` The license that governs the usage and sharing of data at these locations | Must be OpenAQ unique identifier for the license(s) |
| iso | `str \| None` The ISO 3166-1 alpha-2 code for country or territory of the location | Must be a valid ISO 3166-1 alpha-2 code representation of the country, cannot be accompanied by countries_id |
| monitor | `bool \| None` Filter for for reference grade (True) or air sensor (False) locations | |
| mobile | `bool \| None` Filter for for mobile (True) or stationary (False) locations | |
| order_by | `str \| None` The location field by which to sort results, defaults to `id`. Currently only `id` is supported | |
| sort_order | `str \| None` The sort direction for the `order_by` field, defaults to `desc` | Must be one of: `asc`, `desc`, `ASC`, `DESC` |

#### Example

<Tabs syncKey="client">
  <TabItem label="sync">
    ```py
    from openaq import OpenAQ

    # List all locations in Morocco where there is a PM2.5 reading
    with OpenAQ(api_key="YOUR-OPENAQ-API-KEY") as client:
        client.locations.list(countries_id=27,
                              parameters_id=2)
    ```
  </TabItem>
  <TabItem label="async">
    ```py
    from openaq import AsyncOpenAQ

    # List all locations in Morocco where there is a PM2.5 reading
    async with AsyncOpenAQ() as client:
        await client.locations.list(countries_id=27,
                                    parameters_id=2)
    ```
  </TabItem>
</Tabs>

### List latest measurements from a location

The `latest()` method takes one single `locations_id` as an argument and returns
the latest measurement readings of all sensors at that location in a
LatestResponse object.

#### Query arguments

```py
.latest(
  locations_id: int
  ) -> LatestResponse
```

| argument | description | input requirements |
| -------- | ----------- | ------------------ |
| locations_id | `int`  unique identifier for a location in OpenAQ | Required |

#### Example

<Tabs syncKey="client">
  <TabItem label="sync">
    ```py
    from openaq import OpenAQ

    # Retrieve the latest measurement readings at the location with ID 4845127
    with OpenAQ(api_key="YOUR-OPENAQ-API-KEY") as client:
        client.locations.latest(4845127)
    ```
  </TabItem>
  <TabItem label="async">
    ```py
    from openaq import AsyncOpenAQ

    # Retrieve the latest measurement readings at the location with ID 4845127
    async with AsyncOpenAQ(api_key="YOUR-OPENAQ-API-KEY") as client:
        await client.locations.latest(4845127)
    ```
  </TabItem>
</Tabs>

### Retrieve all sensors at a location

The `sensors()` method accepts one single `locations_id` as an argument and
returns all sensors at that location in a SensorsResponse object.

#### Query arguments
```py
.sensors(
  locations_id: int
  ) -> LocationsResponse
```

| argument | description | input requirements |
| -------- | ----------- | ---- |
| locations_id | `int`  unique identifier for a location in OpenAQ | Required |

#### Example

<Tabs  syncKey="client">
  <TabItem label="sync">
    ```py
    from openaq import OpenAQ

    # Retrieve all sensors at location with ID 4845127
    with OpenAQ(api_key="YOUR-OPENAQ-API-KEY") as client:
        client.locations.sensors(4845127)
    ```
  </TabItem>
  <TabItem label="async">
    ```py
    from openaq import AsyncOpenAQ

    # Retrieve all sensors at location with ID 4845127
    async with AsyncOpenAQ(api_key="YOUR-OPENAQ-API-KEY") as client:
        await client.locations.sensors(4845127)
    ```
  </TabItem>
</Tabs>

## Response objects



```py
LocationsResponse.results -> [Location]
LatestResponse.results -> [Latest]
SensorsResponse.results -> [Sensor]
```

These Location and Latest objects contain attributes that have all data about
them. The hierarchy below presents the depth of the attributes and their
datatypes.

### LocationsResponse
```
Location[]
    ├── id: int
    ├── name: str
    ├── locality: str | None
    ├── timezone: str
    ├── country: 
    │   ├── id: int
    │   ├── code: str
    │   └── name: str
    ├── owner: 
    │   ├── id: int
    │   └── name: str
    ├── provider: 
    │   ├── id: int
    │   └── name: str
    ├── is_mobile: bool
    ├── is_monitor: bool
    ├── instruments: []
    │    ├── id: int
    │    └── name: str
    ├── sensors: []
    │   ├── id: int
    │   ├── name: str
    │   └── parameter:
    │       ├── id: int
    │       ├── name: str
    │       ├── units: str
    │       └── display_name: str | None
    ├── coordinates: 
    │   ├── latitude: float
    │   └── longitude: float
    ├── bounds: tuple[float, float, float, float]
    ├── distance: float | None
    ├── datetime_first: 
    │   ├── utc: str
    │   └── local: str
    └── datetime_last: 
        ├── utc: str
        └── local: str
```

### Latest object
```
Latest[]
    ├── datetime:
    │   ├── utc: str
    │   └── local: str
    ├── value: float
    ├── coordinates: 
    │   ├── latitude: float
    │   └── longitude: float
    ├── sensors_id: int
    └── locations_id: int
```

### Sensor object
```
Sensor[]
├── id: int
├── name: str
├── parameter
│   ├── id: int
│   ├── name: str
│   ├── units: str
│   └── displayName: str
├── datetime_first
│   ├── utc: str
│   └── local: str
├── datetime_last
│   ├── utc: str
│   └── local: str
├── coverage
│   ├── expectedCount: int
│   ├── expectedInterval: str
│   ├── observedCount: int
│   ├── observedInterval: str
│   ├── percentComplete: float
│   ├── percentCoverage: float
│   ├── datetimeFrom
│   │   ├── utc: str
│   │   └── local: str
│   └── datetimeTo
│       ├── utc: str
│       └── local: str
├── latest
│   ├── datetime
│   │   ├── utc: str
│   │   └── local: str
│   ├── value: float
│   └── coordinates
│       ├── latitude: float
│       └── longitude: float
└── summary
    ├── min: float
    ├── q02: float | None
    ├── q25: float | None
    ├── median: float | None
    ├── q75: float | None
    ├── q98: float | None
    ├── max: float
    ├── avg: float
    └── sd: float
```